trigger:
- main

pool:
  vmImage: ubuntu-latest

steps:

- script: |
    python -V
  displayName: 'Show Python version'

- script: |
    pwd
    echo '---'
    git log --oneline
  displayName: 'Show Python version'

- script: |
    ${JAVA_HOME_17_X64}/bin/java -version
  displayName: 'Show Java'

- script: |
    wget -q -O /tmp/dita-ot.zip https://github.com/dita-ot/dita-ot/releases/download/3.7.4/dita-ot-3.7.4.zip
    cd /tmp
    unzip -q dita-ot.zip
    cd -
    pwd
    /tmp/dita-ot-3.7.4/bin/dita --input=./DODreadme_PDF.ditamap --format=pdf --output=./output
    ls -l output
  displayName: 'Install DITA-OT and generate pdf'